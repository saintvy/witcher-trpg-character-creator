CREATE TABLE IF NOT EXISTS wcc_item_to_effects (
    item_id   varchar(10) NOT NULL, -- e.g. 'W001' or 'A053'
    e_e_id    varchar(10) NOT NULL REFERENCES wcc_item_effects(e_id) ON DELETE CASCADE,
    ec_ec_id  varchar(10) REFERENCES wcc_item_effect_conditions(ec_id) ON DELETE SET NULL,
    modifier  varchar(50)
);

COMMENT ON TABLE wcc_item_to_effects IS
  'Связь предметов (оружие/броня и т.п.) с эффектами. Каждая строка представляет один эффект для одного предмета.';

COMMENT ON COLUMN wcc_item_to_effects.item_id IS
  'ID предмета (например W001, A053).';

COMMENT ON COLUMN wcc_item_to_effects.e_e_id IS
  'ID эффекта из wcc_item_effects.';

COMMENT ON COLUMN wcc_item_to_effects.ec_ec_id IS
  'ID условия эффекта из wcc_item_effect_conditions (опционально).';

COMMENT ON COLUMN wcc_item_to_effects.modifier IS
  'Модификатор эффекта (например, "+2", "75%", "2м" и т.д.).';

INSERT INTO wcc_item_to_effects (item_id, e_e_id, ec_ec_id, modifier)
VALUES
  ('W001', 'E045', NULL, NULL),
  ('W002', 'E045', NULL, NULL),
  ('W002', 'E063', NULL, NULL),
  ('W003', 'E045', NULL, NULL),
  ('W003', 'E067', NULL, NULL),
  ('W004', 'E045', NULL, NULL),
  ('W004', 'E064', NULL, NULL),
  ('W005', 'E045', NULL, NULL),
  ('W005', 'E055', NULL, '75%'),
  ('W006', 'E045', NULL, NULL),
  ('W006', 'E071', NULL, NULL),
  ('W007', 'E040', NULL, '75%'),
  ('W007', 'E045', NULL, NULL),
  ('W008', 'E045', NULL, NULL),
  ('W009', 'E045', NULL, NULL),
  ('W010', 'E045', NULL, NULL),
  ('W011', 'E045', NULL, NULL),
  ('W012', 'E045', NULL, NULL),
  ('W013', 'E033', NULL, NULL),
  ('W013', 'E089', NULL, NULL),
  ('W014', 'E015', NULL, '3'),
  ('W014', 'E022', NULL, '300%'),
  ('W014', 'E055', NULL, '100%'),
  ('W014', 'E069', NULL, '16'),
  ('W015', 'E063', NULL, NULL),
  ('W016', 'E003', NULL, '2'),
  ('W017', 'E059', NULL, NULL),
  ('W018', 'E075', NULL, NULL),
  ('W019', 'E067', NULL, NULL),
  ('W020', 'E066', NULL, '3'),
  ('W021', 'E050', NULL, NULL),
  ('W022', 'E040', NULL, '100%'),
  ('W023', 'E073', NULL, '2d6'),
  ('W025', 'E030', NULL, NULL),
  ('W025', 'E040', NULL, '100%'),
  ('W026', 'E041', NULL, NULL),
  ('W026', 'E063', NULL, NULL),
  ('W027', 'E041', NULL, NULL),
  ('W027', 'E067', NULL, NULL),
  ('W028', 'E041', NULL, NULL),
  ('W029', 'E006', NULL, NULL),
  ('W030', 'E004', NULL, '25%'),
  ('W031', 'E043', NULL, NULL),
  ('W032', 'E107', NULL, NULL),
  ('W033', 'E032', NULL, NULL),
  ('W034', 'E108', NULL, NULL),
  ('W035', 'E004', NULL, '75%'),
  ('W035', 'E051', NULL, NULL),
  ('W036', 'E004', NULL, '100%'),
  ('W037', 'E007', NULL, NULL),
  ('W037', 'E055', NULL, '100%'),
  ('W038', 'E040', NULL, '15%'),
  ('W039', 'E031', NULL, NULL),
  ('W039', 'E040', NULL, '30%'),
  ('W041', 'E009', NULL, NULL),
  ('W041', 'E031', NULL, NULL),
  ('W042', 'E004', 'EC001', '15%'),
  ('W043', 'E031', NULL, NULL),
  ('W043', 'E040', NULL, '15%'),
  ('W044', 'E009', NULL, NULL),
  ('W044', 'E031', NULL, NULL),
  ('W044', 'E040', NULL, '100%'),
  ('W045', 'E010', 'EC003', '2'),
  ('W045', 'E031', NULL, NULL),
  ('W047', 'E009', NULL, NULL),
  ('W047', 'E031', NULL, NULL),
  ('W048', 'E031', NULL, NULL),
  ('W049', 'E040', NULL, '15%'),
  ('W049', 'E046', NULL, '4'),
  ('W050', 'E044', NULL, NULL),
  ('W050', 'E046', NULL, '4'),
  ('W050', 'E054', NULL, NULL),
  ('W051', 'E004', 'EC002', '25%'),
  ('W051', 'E072', NULL, NULL),
  ('W052', 'E063', NULL, NULL),
  ('W052', 'E093', NULL, NULL),
  ('W053', 'E009', NULL, NULL),
  ('W054', 'E009', NULL, NULL),
  ('W054', 'E083', NULL, NULL),
  ('W055', 'E009', NULL, NULL),
  ('W055', 'E046', NULL, 'Тел*2'),
  ('W056', 'E009', NULL, NULL),
  ('W057', 'E009', NULL, NULL),
  ('W058', 'E008', NULL, '-2'),
  ('W058', 'E009', NULL, NULL),
  ('W059', 'E009', NULL, NULL),
  ('W059', 'E050', NULL, NULL),
  ('W060', 'E031', NULL, NULL),
  ('W060', 'E046', NULL, 'Тел*2'),
  ('W060', 'E050', NULL, NULL),
  ('W061', 'E009', NULL, NULL),
  ('W061', 'E040', NULL, '25%'),
  ('W062', 'E009', NULL, NULL),
  ('W063', 'E009', NULL, NULL),
  ('W063', 'E050', NULL, NULL),
  ('W063', 'E083', NULL, NULL),
  ('W064', 'E009', NULL, NULL),
  ('W065', 'E009', NULL, NULL),
  ('W065', 'E031', NULL, NULL),
  ('W066', 'E009', NULL, NULL),
  ('W066', 'E040', NULL, '25%'),
  ('W067', 'E009', NULL, NULL),
  ('W067', 'E029', NULL, '75%'),
  ('W067', 'E069', NULL, '18'),
  ('W067', 'E091', 'EC007', NULL),
  ('W068', 'E067', NULL, NULL),
  ('W070', 'E050', NULL, NULL),
  ('W071', 'E083', NULL, NULL),
  ('W072', 'E070', NULL, NULL),
  ('W073', 'E031', NULL, NULL),
  ('W073', 'E063', NULL, NULL),
  ('W074', 'E031', NULL, NULL),
  ('W074', 'E047', NULL, NULL),
  ('W075', 'E063', NULL, NULL),
  ('W076', 'E008', NULL, '-2'),
  ('W076', 'E047', NULL, NULL),
  ('W077', 'E018', NULL, '1'),
  ('W077', 'E050', NULL, NULL),
  ('W078', 'E008', NULL, '-4'),
  ('W078', 'E069', NULL, '18'),
  ('W078', 'E071', NULL, NULL),
  ('W079', 'E058', NULL, NULL),
  ('W080', 'E040', NULL, '25%'),
  ('W080', 'E063', NULL, NULL),
  ('W081', 'E058', NULL, NULL),
  ('W083', 'E040', NULL, '25%'),
  ('W085', 'E040', NULL, '25%'),
  ('W086', 'E042', NULL, NULL),
  ('W087', 'E063', NULL, NULL),
  ('W088', 'E058', NULL, NULL),
  ('W088', 'E073', NULL, '1d6+2'),
  ('W089', 'E049', NULL, NULL),
  ('W090', 'E040', NULL, '75%'),
  ('W090', 'E046', NULL, 'Тел*2'),
  ('W090', 'E055', NULL, '100%'),
  ('W090', 'E069', NULL, '15'),
  ('W091', 'E001', NULL, NULL),
  ('W092', 'E060', NULL, NULL),
  ('W093', 'E040', NULL, '60%'),
  ('W095', 'E048', NULL, NULL),
  ('W096', 'E074', NULL, NULL),
  ('W097', 'E004', NULL, '75%'),
  ('W098', 'E032', NULL, NULL),
  ('W101', 'E063', NULL, NULL),
  ('W101', 'E071', NULL, NULL),
  ('W103', 'E064', NULL, NULL),
  ('W105', 'E063', NULL, NULL),
  ('W106', 'E026', NULL, '3'),
  ('W106', 'E029', NULL, '75%'),
  ('W106', 'E069', NULL, '17'),
  ('W106', 'E071', NULL, NULL),
  ('W110', 'E055', NULL, '90%'),
  ('W110', 'E071', NULL, NULL),
  ('W111', 'E063', NULL, NULL),
  ('W113', 'E040', NULL, '50%'),
  ('W114', 'E050', NULL, NULL),
  ('W117', 'E040', NULL, '25%'),
  ('W118', 'E071', NULL, NULL),
  ('W119', 'E040', NULL, '30%'),
  ('W119', 'E055', NULL, '30%'),
  ('W119', 'E071', NULL, NULL),
  ('W120', 'E040', NULL, '25%'),
  ('W121', 'E040', NULL, '25%'),
  ('W123', 'E057', NULL, '25%'),
  ('W124', 'E047', NULL, NULL),
  ('W124', 'E071', NULL, NULL),
  ('W125', 'E040', NULL, '25%'),
  ('W128', 'E073', NULL, '3d6'),
  ('W129', 'E063', NULL, NULL),
  ('W129', 'E073', NULL, '3d6'),
  ('W130', 'E073', NULL, '3d6'),
  ('W130', 'E092', NULL, '1'),
  ('W131', 'E055', NULL, '30%'),
  ('W131', 'E073', NULL, '3d6'),
  ('W132', 'E040', NULL, '30%'),
  ('W132', 'E073', NULL, '3d6'),
  ('W133', 'E071', NULL, NULL),
  ('W133', 'E073', NULL, '3d6'),
  ('W134', 'E067', NULL, NULL),
  ('W134', 'E073', NULL, '3d6'),
  ('W135', 'E047', NULL, NULL),
  ('W135', 'E063', NULL, NULL),
  ('W136', 'E047', NULL, NULL),
  ('W136', 'E064', NULL, NULL),
  ('W137', 'E047', NULL, NULL),
  ('W137', 'E063', NULL, NULL),
  ('W137', 'E092', NULL, '1'),
  ('W138', 'E047', NULL, NULL),
  ('W138', 'E055', NULL, '30%'),
  ('W138', 'E063', NULL, NULL),
  ('W139', 'E040', NULL, '30%'),
  ('W139', 'E047', NULL, NULL),
  ('W139', 'E063', NULL, NULL),
  ('W140', 'E047', NULL, NULL),
  ('W140', 'E063', NULL, NULL),
  ('W140', 'E071', NULL, NULL),
  ('W141', 'E047', NULL, NULL),
  ('W141', 'E063', NULL, NULL),
  ('W141', 'E067', NULL, NULL),
  ('W143', 'E040', NULL, '50%'),
  ('W144', 'E009', NULL, NULL),
  ('W144', 'E067', NULL, NULL),
  ('W147', 'E040', NULL, '75%'),
  ('W147', 'E063', NULL, NULL),
  ('W147', 'E069', NULL, '16'),
  ('W148', 'E008', NULL, '-2'),
  ('W148', 'E047', NULL, NULL),
  ('W148', 'E063', NULL, NULL),
  ('W148', 'E069', NULL, '18'),
  ('W148', 'E091', 'EC009', NULL),
  ('W149', 'E013', NULL, '25'),
  ('W149', 'E040', NULL, '75%'),
  ('W149', 'E069', NULL, '20'),
  ('W149', 'E071', NULL, NULL),
  ('W149', 'E091', 'EC007', NULL),
  ('W150', 'E069', NULL, '18'),
  ('W150', 'E073', NULL, '7d6+4'),
  ('W150', 'E091', NULL, NULL),
  ('W151', 'E029', NULL, '75%'),
  ('W151', 'E069', NULL, '22'),
  ('W151', 'E071', NULL, NULL),
  ('W151', 'E073', NULL, '6d6+4'),
  ('W151', 'E091', 'EC007', NULL),
  ('W151', 'E091', 'EC008', NULL),
  ('W152', 'E047', NULL, NULL),
  ('W152', 'E063', NULL, NULL),
  ('W152', 'E069', NULL, '16'),
  ('W152', 'E071', NULL, NULL),
  ('W153', 'E057', NULL, '75%'),
  ('W153', 'E069', NULL, '19'),
  ('W153', 'E073', NULL, '6d6+4'),
  ('W153', 'E091', 'EC006', NULL),
  ('W153', 'E091', 'EC007', NULL),
  ('W154', 'E009', NULL, NULL),
  ('W154', 'E092', NULL, '3'),
  ('W155', 'E009', NULL, NULL),
  ('W155', 'E092', NULL, '2'),
  ('W156', 'E009', NULL, NULL),
  ('W156', 'E091', NULL, NULL),
  ('W156', 'E092', NULL, '3'),
  ('W157', 'E009', NULL, NULL),
  ('W157', 'E092', NULL, '1'),
  ('W158', 'E009', NULL, NULL),
  ('W158', 'E091', NULL, NULL),
  ('W158', 'E092', NULL, '3'),
  ('W159', 'E009', NULL, NULL),
  ('W159', 'E031', NULL, NULL),
  ('W159', 'E092', NULL, '1'),
  ('W160', 'E009', NULL, NULL),
  ('W160', 'E091', NULL, NULL),
  ('W160', 'E092', NULL, '3'),
  ('W161', 'E009', NULL, NULL),
  ('W161', 'E091', NULL, NULL),
  ('W161', 'E092', NULL, '3'),
  ('W162', 'E004', NULL, '25%'),
  ('W162', 'E009', NULL, NULL),
  ('W162', 'E021', NULL, '200%'),
  ('W162', 'E069', NULL, '20'),
  ('W162', 'E091', 'EC006', NULL),
  ('W162', 'E092', NULL, '5'),
  ('W167', 'E040', NULL, '25%'),
  ('W167', 'E067', NULL, NULL),
  ('W168', 'E040', NULL, '100%'),
  ('W168', 'E047', NULL, NULL),
  ('W168', 'E069', NULL, '14'),
  ('W168', 'E071', NULL, NULL),
  ('A053', 'E085', NULL, NULL),
  ('A054', 'E085', NULL, NULL),
  ('A056', 'E086', NULL, '2'),
  ('A052', 'E085', NULL, NULL),
  ('A020', 'E056', NULL, NULL),
  ('A006', 'E053', NULL, NULL),
  ('A055', 'E086', NULL, '2'),
  ('A058', 'E086', NULL, '2'),
  ('A009', 'E053', NULL, NULL),
  ('A063', 'E086', NULL, '4'),
  ('A063', 'E062', NULL, NULL),
  ('A044', 'E038', NULL, NULL),
  ('A045', 'E036', NULL, NULL),
  ('A047', 'E039', NULL, NULL),
  ('A048', 'E035', NULL, NULL),
  ('A049', 'E037', NULL, NULL),
  ('A050', 'E034', NULL, NULL),
  ('A059', 'E086', NULL, '2'),
  ('A059', 'E047', NULL, NULL),
  ('A059', 'E073', NULL, '3d6'),
  ('A015', 'E023', NULL, '+2'),
  ('A019', 'E023', NULL, '+2'),
  ('A057', 'E086', NULL, '2'),
  ('A057', 'E052', NULL, NULL),
  ('A008', 'E053', NULL, NULL),
  ('A010', 'E053', NULL, NULL),
  ('A062', 'E086', NULL, '4'),
  ('A062', 'E062', NULL, NULL),
  ('A062', 'E090', NULL, NULL),
  ('A016', 'E084', NULL, NULL),
  ('A051', 'E085', NULL, NULL),
  ('A038', 'E019', 'EC005', '+2'),
  ('A060', 'E086', NULL, '2'),
  ('A041', 'E011', 'EC004', '+2'),
  ('A061', 'E086', NULL, '4'),
  ('A061', 'E062', NULL, NULL),
  ('A061', 'E090', NULL, NULL),
  ('A046', 'E069', NULL, '14'),
  ('A046', 'E013', NULL, '+15'),
  ('A046', 'E028', NULL, '+3'),
  ('A043', 'E069', NULL, '18'),
  ('A043', 'E013', NULL, '+25'),
  ('A043', 'E022', NULL, '+2'),
  ('A043', 'E023', NULL, '+2'),
  ('A043', 'E081', NULL, NULL),
  ('A039', 'E069', NULL, '16'),
  ('U001', 'E002', NULL, NULL),
  ('U001', 'E016', NULL, '+5'),
  ('U002', 'E071', NULL, NULL),
  ('U003', 'E024', NULL, '+1'),
  ('U004', 'E025', NULL, '+1d6'),
  ('U005', 'E061', NULL, NULL),
  ('U006', 'E091', NULL, NULL),
  ('U007', 'E004', NULL, '30%'),
  ('U008', 'E040', NULL, '30%'),
  ('U009', 'E029', NULL, '30%'),
  ('U010', 'E055', NULL, '30%'),
  ('U011', 'E068', NULL, NULL),
  ('U012', 'E063', NULL, NULL),
  ('U013', 'E057', NULL, '30%'),
  ('U014', 'E008', NULL, '-1'),
  ('U015', 'E065', NULL, NULL),
  ('U016', 'E101', NULL, NULL),
  ('U017', 'E102', NULL, NULL),
  ('U018', 'E105', NULL, NULL),
  ('U019', 'E096', NULL, NULL),
  ('U020', 'E103', NULL, NULL),
  ('U021', 'E100', NULL, NULL),
  ('U022', 'E097', NULL, NULL),
  ('U023', 'E099', NULL, NULL),
  ('U024', 'E080', NULL, NULL),
  ('U024', 'E017', NULL, '+1'),
  ('U025', 'E078', NULL, NULL),
  ('U025', 'E017', NULL, '+2'),
  ('U026', 'E078', NULL, NULL),
  ('U026', 'E076', NULL, NULL),
  ('U026', 'E017', NULL, '+3'),
  ('U027', 'E078', NULL, NULL),
  ('U027', 'E076', NULL, NULL),
  ('U027', 'E081', NULL, NULL),
  ('U027', 'E017', NULL, '+2'),
  ('U028', 'E077', NULL, NULL),
  ('U028', 'E078', NULL, NULL),
  ('U028', 'E017', NULL, '+4'),
  ('U029', 'E077', NULL, NULL),
  ('U029', 'E078', NULL, NULL),
  ('U029', 'E017', NULL, '+5'),
  ('U030', 'E077', NULL, NULL),
  ('U030', 'E076', NULL, NULL),
  ('U030', 'E019', NULL, '+1'),
  ('U030', 'E017', NULL, '+3'),
  ('U031', 'E017', NULL, '+3'),
  ('U032', 'E005', NULL, '30%'),
  ('U033', 'E079', NULL, NULL),
  ('U034', 'E087', NULL, NULL),
  ('U035', 'E088', 'EC010', NULL),
  ('U036', 'E088', 'EC009', NULL),
  ('U037', 'E088', 'EC008', NULL),
  ('U038', 'E088', 'EC006', NULL),
  ('U039', 'E088', 'EC007', NULL),
  ('U040', 'E094', NULL, NULL),
  ('U041', 'E095', NULL, NULL),
  ('U042', 'E098', NULL, NULL),
  ('U043', 'E027', NULL, '+1'),
  ('U043', 'E014', NULL, '+1'),
  ('U043', 'E012', NULL, '+1'),
  ('U044', 'E104', NULL, NULL),
  ('U045', 'E106', NULL, NULL),
  ('U046', 'E013', NULL, '+5');